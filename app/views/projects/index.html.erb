<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet"/>
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.8.1/bootstrap-table.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.8.1/bootstrap-table.min.js"></script>

<script>
$(document).ready(function(){

  alert('Document Ready!');

  var $table = $('#projectTable');

  $table.on('expand-row.bs.table', function(e, index, row, $detail) {
    var res = $("#desc" + index).html();
    $detail.html(res);
    alert(res);
  });

  $table.click(function(){
    alert('clicked');
  });

  $table.on("click-row.bs.table", function(e, row, $tr) {
    alert('click-row.bs.table');
    alert("Clicked on: " + $(e.target).attr('class'), [e, row, $tr]);

    // prints Clicked on: table table-hover, no matter if you click on row or detail-icon
    console.log("Clicked on: " + $(e.target).attr('class'), [e, row, $tr]);

    // In my real scenarion, trigger expands row with text detailFormatter..
    //$tr.find(">td>.detail-icon").trigger("click");
    // $tr.find(">td>.detail-icon").triggerHandler("click");
    if ($tr.next().is('tr.detail-view')) {
      $table.bootstrapTable('collapseRow', $tr.data('index'));
    } else {
      $table.bootstrapTable('expandRow', $tr.data('index'));
    }
  });

});

</script>

<div class='container'>
    <div id='toolbar'></div>

    <table id='projectTable'
       data-toggle="table"
       data-detail-view="true"
       data-detail-formatter="detailFormatter"
       data-pagination="true"
       data-show-refresh="true"
       data-show-toggle="true"
       data-show-columns="true"
       data-sort-order="name"
       class='regularDisplay'>

        <thead>
          <tr>
            <th data-field='name'>Name</th>
            <th data-field='investigators'>Investigators</th>
            <th data-field='year'>Year</th>
            <th data-field='schema_name'>DB Schema</th>
            <th data-field='brief_summary'>Description</th>
            <th></th>
          </tr>
        </thead>

        <tbody class='projects'>
          <% @projects_with_data.each do |proj| %>
            <tr>
              <td><%= proj.name %></td>
              <td><%= proj.investigators %></td>
              <td><%= proj.year %></td>
              <td><%= proj.schema_name %></td>
              <td><%= proj.brief_summary %></td>
              <td><%= link_to 'Detail', project_path(:id => proj.id) %></td>
              <span style="display: none;" id="desc0">
                    <strong class="bold">Description:</strong>
                    <br>
                    <pre>This is row with id=0, containing other content</pre>
                </span>
            </tr>
          <% end %>
       </tbody>
    </table>
  </div>
